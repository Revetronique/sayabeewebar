<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>MMD Models</title>
		<meta name="description" content="A-Frame MMD loader component">
		
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<!-- Specify a default URL for resources from Revetronique -->
		<!--<base href="https://cdn.rawgit.com/Revetronique/sayabeewebar/master/">-->
		
		<!-- include aframe -->
		<script src="https://aframe.io/releases/0.6.0/aframe.min.js" type="text/javascript"></script>
		
		<script src="https://cdn.rawgit.com/takahirox/a-mmd/master/build/a-mmd.js" type="text/javascript"></script>
		<script src="https://cdn.rawgit.com/kripken/ammo.js/dcab07bf0e7f2b4b64c01dc45da846344c8f50be/builds/ammo.js" type="text/javascript"></script>
		<!-- 
		<script src="https://cdn.rawgit.com/aframevr/aframe/v0.5.0/dist/aframe-master.min.js" type="text/javascript"></script>
		<script src="https://cdn.rawgit.com/donmccurdy/aframe-extras/v3.2.0/dist/aframe-extras.min.js" type="text/javascript"></script>
		<script src="https://cdn.rawgit.com/takahirox/aframe-outline/v1.1.0/build/aframe-outline.min.js" type="text/javascript"></script>
		 -->
		 
		<!-- include aframe-artoolkit -->
		<script src="https://cdn.rawgit.com/jeromeetienne/AR.js/master/aframe/build/aframe-ar.js" type="text/javascript"></script>
	</head>
	
	<body style="margin : 0px; overflow: hidden; font-family: Monospace;">
		<!-- information and contact form to AR.js -->
		<div style="position: absolute; top: 10px; width:100%; text-align: center; z-index: 1;">
			<a href="https://github.com/jeromeetienne/AR.js/" target="_blank">AR.js</a>
			- three.js mobile performance -
			<br>
			Produced by 
			<a href="https://twitter.com/jerome_etienne" target="_blank">@jerome_etienne</a>
		</div>
		<!-- credit of the lisence -->
		<div style="position: absolute; bottom: 10px; width:100%; text-align: center; z-index: 1;">
			MMD model from &#169;NTV
			<a href="http://www.ntv.co.jp/ichara/mmd.html" target="_blank">http://www.ntv.co.jp/ichara/mmd.html</a>
		</div>
		
		<!-- enable artoolkit on this scene -->		
		<a-scene stat embedded arjs='debug: false; sourceType: webcam;' antialias="true" outline>	<!-- detectionMode: mono; maxDetectionRate: 30; canvasWidth: 240; canvasHeight: 180; -->
			<a-assets>
				<img id="sky" src="https://cdn.rawgit.com/aframevr/aframe/master/examples/primitives/models/peach-gradient.jpg">
			</a-assets>
			
			<!-- MMD Model -->
			<a-marker type='pattern' url='https://cdn.rawgit.com/Revetronique/sayabeewebar/master/data/patt.hiro' size='1'>
				<!-- add Sayabee MMD -->
				<a-entity scale="0.08 0.08 0.08">
					<a-entity mmd='outline: true' afterglow:2.0;>
						<a-entity mmd-model="model:https://cdn.rawgit.com/Revetronique/sayabeewebar/master/mmd/Sayabee_refine_PMX/sayabee_rev.pmx;
											vmd:https://cdn.rawgit.com/Revetronique/sayabeewebar/master/motion/Tweet_Motion/Tweet_Motion.vmd;
											physics:false;"
									shadow="cast:true"
									position="0 0 0">
						</a-entity>
					</a-entity>
					<!-- add sound -->
					<!--
					<a-entity mmd="audio:https://cdn.rawgit.com/mrdoob/three.js/dev/examples/models/mmd/audios/wavefile_short.mp3;
									audioDelayTime:5.333333333333333; afterglow:2.0;">
					</a-entity>
					-->
				</a-entity>
				<!-- Sky box (Solid Color image) -->
				<a-sky src="#sky"></a-sky>
				<!-- ground plate -->
				<!--
				<a-plane rotation="-90 0 0"
							color="#AAAAAA"
							height="200"
							width="200"
							shadow="receive:true">
				</a-plane>
				-->
				<!-- Lighting -->
				<a-entity shadow-light="type:directional;
							castShadow:true;
							color:#888;
							shadowMapWidth:1024;
							shadowMapHeight:1024;
							shadowCameraRight:20;
							shadowCameraTop:20;
							shadowCameraLeft:-20;
							shadowCameraBottom:-20;
							shadowCameraVisible: true;"
							position="-2 2 2">
				</a-entity>
			</a-marker>
			
			<!-- Camera -->
			<a-entity camera></a-entity>
		</a-scene>
	</body>
</html>
