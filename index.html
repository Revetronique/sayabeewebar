<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>MMD Models</title>
		<meta name="description" content="A-Frame MMD loader component">
		<!-- <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"> -->
		<!-- Specify a default URL for all links -->
		<!-- <base href="https://github.com/jeromeetienne/AR.js/tree/master/aframe/examples"> -->
		<!-- include aframe -->
		<script src="https://cdn.rawgit.com/aframevr/aframe/v0.5.0/dist/aframe-master.min.js" type="text/javascript"></script>
		<script src="https://cdn.rawgit.com/kripken/ammo.js/dcab07bf0e7f2b4b64c01dc45da846344c8f50be/builds/ammo.js" type="text/javascript"></script>
		<script src="https://cdn.rawgit.com/donmccurdy/aframe-extras/v3.2.0/dist/aframe-extras.min.js" type="text/javascript"></script>
		<script src="https://cdn.rawgit.com/takahirox/aframe-outline/v1.1.0/build/aframe-outline.min.js" type="text/javascript"></script>
		<script src="https://cdn.rawgit.com/takahirox/a-mmd/master/build/a-mmd.js" type="text/javascript"></script>
		
		<!-- include aframe-artoolkit -->
		<script src="https://cdn.rawgit.com/jeromeetienne/AR.js/master/aframe/build/aframe-ar.js" type="text/javascript"></script>
		<script>THREEx.ArToolkitContext.baseURL = '"https://cdn.rawgit.com/jeromeetienne/AR.js/master/aframe/'</script>
	</head>
	
	<body style="margin : 0px; overflow: hidden; font-family: Monospace;">
		<!-- information and contact form to AR.js -->
		<div style="position: absolute; top: 10px; width:100%; text-align: center; z-index: 1;">
			<a href="https://github.com/jeromeetienne/AR.js/" target="_blank">AR.js</a>
			- three.js mobile performance -
			<br>
			Produced by 
			<a href="https://twitter.com/jerome_etienne" target="_blank">@jerome_etienne</a>
		</div>
		<!-- credit of the lisence -->
		<div style="position: absolute; bottom: 10px; width:100%; text-align: center; z-index: 1;">
			MMD model from &#169;NTV
			<a href="http://www.ntv.co.jp/ichara/mmd.html" target="_blank">http://www.ntv.co.jp/ichara/mmd.html</a>
		</div>
		
		<!-- enable artoolkit on this scene -->		
		<a-scene stat embedded arjs='debug: false; sourceType: webcam;' antialias="true" outline>	<!-- detectionMode: mono; maxDetectionRate: 30; canvasWidth: 240; canvasHeight: 180; -->
			<a-assets>
				<img id="sky" src="https://cdn.rawgit.com/aframevr/aframe/master/examples/primitives/models/peach-gradient.jpg">
			</a-assets>
			<!-- Camera -->
			<a-entity camera></a-entity>
			<!-- MMD Model -->
			<a-marker type='pattern' url='marker/patt.hiro' size='3'>
				<!-- add Sayabee MMD -->
				<a-entity mmd="audio:https://cdn.rawgit.com/mrdoob/three.js/dev/examples/models/mmd/audios/wavefile_short.mp3;audioDelayTime:5.333333333333333; afterglow:2.0;">
				</a-entity>
				<a-entity mmd-model="model:mmd/Sayabee_refine_PMX/sayabee_rev.pmx;vmd:motion/Tweet_Motion/Tweet_Motion.vmd;physics:false;"
							shadow="cast:true">
				</a-entity>
			</a-marker>
			<!-- ground plate -->
			<a-plane rotation="-90 0 0"
						color="#AAAAAA"
						height="200"
						width="200"
						shadow="receive:true">
			</a-plane>
			<!-- Sky box (Solid Color image) -->
			<a-sky src="#sky"></a-sky>
			<!-- Lighting -->
			<a-entity shadow-light="type:directional;
						castShadow:true;
						color:#888;
						shadowMapWidth:1024;
						shadowMapHeight:20;
						shadowCameraRight:20;
						shadowCameraTop:20;
						shadowCameraLeft:-20;
						shadowCameraBottom:-20;"
						position="-20 20 20">
			</a-entity>
		</a-scene>
	</body>
</html>
